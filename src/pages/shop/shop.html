
<ion-header>

  <ion-navbar>
    <ion-buttons end>
    <button ion-button color="primary" icon-only (click)="goToMap()"><ion-icon name="map"></ion-icon></button>
  </ion-buttons>
    <ion-title>{{currentShop?.shopName}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-card>
    <ion-item>
      <ion-avatar item-start>
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/Starbucks_Corporation_Logo_2011.svg/1200px-Starbucks_Corporation_Logo_2011.svg.png">
      </ion-avatar>
      <h2> {{currentShop?.shopName}} </h2>
      <p>{{currentShop?.email}}</p>
    </ion-item>

    <ion-card-content>
      <h4>Shop Details  </h4>
      <p>{{currentShop?.about}} </p>
      <hr>
    </ion-card-content>

    <ion-row>
      <ion-col>
        <button ion-button icon-start clear small><ion-icon name="cart">
        </ion-icon>
          <div>{{currentShop?.loyaltyBalance | number: fractionSize}} Loyalty Points</div>
          </button>
          <button ion-button round color="secondary" (click)="goToProductPage()">View Products</button>
          <!-- <ion-chip color="secondary">
            <ion-label (click)="goToProductPage()">View Products</ion-label>
          </ion-chip> -->
      </ion-col>
    </ion-row>
  </ion-card>

  <ion-card>
    <ion-card-header>Recent Purchases</ion-card-header>
    <ion-card-content>
      <ion-item>

      <ion-label stacked>Product Name</ion-label>
      <ion-input [(ngModel)]="product" type="text"
      placeholder="Product purchased?"></ion-input>

    </ion-item>

    <button ion-button color="primary" block (click)="addPurchase(product)"
[disabled]="!product">
  Add Purchase
</button>

    </ion-card-content>
  </ion-card>

  <ion-list>
     <ion-list-header>
      <button ion-button round full color="secondary" (click)="getRecentPurchases(shopId)">Recent Purchases
    </button>
     </ion-list-header>
     <ion-item *ngFor="let purchase of recentPurchases">
       <p text-wrap>Product: <strong>{{purchase.product}}</strong> <ion-icon name="arrow-round-up" color="secondary"></ion-icon> 25 points</p>
       <p>{{purchase.createdDate | date:'medium' }}</p>
     </ion-item>

   </ion-list>

</ion-content>
